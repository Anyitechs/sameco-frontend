{"version":3,"sources":["webpack:///./src/modules/settings/components/settings-page.vue?b557","webpack:///./src/modules/settings/settings-model.js","webpack:///./src/modules/settings/components/settings-toolbar.vue?d85b","webpack:///src/modules/settings/components/settings-toolbar.vue","webpack:///./src/modules/settings/components/settings-toolbar.vue?511e","webpack:///./src/modules/settings/components/settings-toolbar.vue","webpack:///src/modules/settings/components/settings-page.vue","webpack:///./src/modules/settings/components/settings-page.vue?bd20","webpack:///./src/modules/settings/components/settings-page.vue?47d6","webpack:///./src/modules/settings/components/settings-page.vue?0c86"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","path","staticClass","directives","name","rawName","value","expression","_e","ref","labelPosition","labelWidthForm","model","rules","nativeOn","$event","preventDefault","doSubmit","fields","theme","label","required","callback","$$v","$set","_l","option","key","id","style","backgroundColor","hex","_v","_s","saveLoading","on","doReset","staticRenderFns","themes","map","i18n","EnumeratorField","SettingsModel","GenericModel","query","entityNames","computed","mapGetters","currentUser","hasPermissionToAuditLogs","component","components","SettingsToolbar","data","settings","findLoading","created","methods","mapActions","doFind","doSave","values","formSchema"],"mappings":"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","file":"js/chunk-6b61a82e.612f158d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_c('app-i18n',{attrs:{\"code\":\"home.menu\"}})],1),_c('el-breadcrumb-item',[_c('app-i18n',{attrs:{\"code\":\"settings.title\"}})],1)],1),_c('div',{staticClass:\"app-content-page\"},[_c('h1',{staticClass:\"app-content-title\"},[_c('app-i18n',{attrs:{\"code\":\"settings.title\"}})],1),_c('app-settings-toolbar'),(_vm.findLoading)?_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.findLoading),expression:\"findLoading\"}],staticClass:\"app-page-spinner\"}):_vm._e(),(_vm.model)?_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"label-width\":_vm.labelWidthForm,\"model\":_vm.model,\"rules\":_vm.rules},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.doSubmit($event)}}},[_c('el-form-item',{attrs:{\"label\":_vm.fields.theme.label,\"prop\":_vm.fields.theme.name,\"required\":_vm.fields.theme.required}},[_c('el-col',{attrs:{\"lg\":11,\"md\":16,\"sm\":24}},[_c('el-select',{attrs:{\"filterable\":\"\",\"placeholder\":\"\",\"value-key\":\"id\"},model:{value:(_vm.model[_vm.fields.theme.name]),callback:function ($$v) {_vm.$set(_vm.model, _vm.fields.theme.name, $$v)},expression:\"model[fields.theme.name]\"}},_vm._l((_vm.fields.theme.options),function(option){return _c('el-option',{key:option.id,attrs:{\"label\":option.label,\"value\":option.id}},[_c('div',{staticClass:\"settings-box\",style:({ backgroundColor: option.hex })}),_vm._v(\"\\n              Â  \"+_vm._s(option.label)+\"\\n            \")])}),1)],1)],1),_c('el-form-item',[_c('div',{staticClass:\"form-buttons\"},[_c('el-button',{attrs:{\"disabled\":_vm.saveLoading,\"icon\":\"el-icon-fa-floppy-o\",\"type\":\"primary\"},on:{\"click\":_vm.doSubmit}},[_c('app-i18n',{attrs:{\"code\":\"common.save\"}})],1),_c('el-button',{attrs:{\"disabled\":_vm.saveLoading,\"icon\":\"el-icon-fa-undo\"},on:{\"click\":_vm.doReset}},[_c('app-i18n',{attrs:{\"code\":\"common.reset\"}})],1),_c('router-link',{attrs:{\"to\":{ path: '/' }}},[_c('el-button',{attrs:{\"disabled\":_vm.saveLoading,\"icon\":\"el-icon-fa-close\"}},[_c('app-i18n',{attrs:{\"code\":\"common.cancel\"}})],1)],1)],1)])],1):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { i18n } from '@/i18n';\nimport EnumeratorField from '@/shared/fields/enumerator-field';\nimport { GenericModel } from '@/shared/model/generic-model';\n\nconst themes = [\n  {\n    id: 'default',\n    hex: '#409EFF',\n  },\n  {\n    id: 'cyan',\n    hex: '#13c2c2',\n  },\n  {\n    id: 'geek-blue',\n    hex: '#2f54eb',\n  },\n  {\n    id: 'gold',\n    hex: '#faad14',\n  },\n  {\n    id: 'lime',\n    hex: '#a0d911',\n  },\n  {\n    id: 'magenta',\n    hex: '#eb2f96',\n  },\n  {\n    id: 'orange',\n    hex: '#fa8c16',\n  },\n  {\n    id: 'polar-green',\n    hex: '#52c41a',\n  },\n  {\n    id: 'purple',\n    hex: '#722ed1',\n  },\n  {\n    id: 'red',\n    hex: '#f5222d',\n  },\n  {\n    id: 'volcano',\n    hex: '#fa541c',\n  },\n  {\n    id: 'yellow',\n    hex: '#fadb14',\n  },\n].map((theme) => ({\n  ...theme,\n  label: i18n(`settings.colors.${theme.id}`),\n}));\n\nfunction label(name) {\n  return i18n(`settings.fields.${name}`);\n}\n\nconst fields = {\n  theme: new EnumeratorField(\n    'theme',\n    label('theme'),\n    themes,\n    { required: true },\n  ),\n};\n\nexport class SettingsModel extends GenericModel {\n  static get fields() {\n    return fields;\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-page-toolbar\"},[(_vm.hasPermissionToAuditLogs)?_c('router-link',{attrs:{\"to\":{ path: '/audit-logs', query: { entityNames: 'settings' } }}},[_c('el-button',{attrs:{\"icon\":\"el-icon-fa-history\"}},[_c('app-i18n',{attrs:{\"code\":\"auditLog.menu\"}})],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-page-toolbar\">\n    <router-link\n      :to=\"{ path: '/audit-logs', query: { entityNames: 'settings' } }\"\n      v-if=\"hasPermissionToAuditLogs\"\n    >\n      <el-button icon=\"el-icon-fa-history\">\n        <app-i18n code=\"auditLog.menu\"></app-i18n>\n      </el-button>\n    </router-link>\n  </div>\n</template>\n\n<script>\nimport { AuditLogPermissions } from '@/modules/audit-log/audit-log-permissions';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'app-settings-toolbar',\n\n  computed: {\n    ...mapGetters({\n      currentUser: 'auth/currentUser',\n    }),\n\n    hasPermissionToAuditLogs() {\n      return new AuditLogPermissions(this.currentUser).read;\n    },\n  },\n};\n</script>\n\n<style>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./settings-toolbar.vue?vue&type=template&id=7fbfdf4b&\"\nimport script from \"./settings-toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./settings-toolbar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">\n        <app-i18n code=\"home.menu\"></app-i18n>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>\n        <app-i18n code=\"settings.title\"></app-i18n>\n      </el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <div class=\"app-content-page\">\n      <h1 class=\"app-content-title\">\n        <app-i18n code=\"settings.title\"></app-i18n>\n      </h1>\n\n      <app-settings-toolbar></app-settings-toolbar>\n\n      <div class=\"app-page-spinner\" v-if=\"findLoading\" v-loading=\"findLoading\"></div>\n\n      <el-form\n        :label-position=\"labelPosition\"\n        :label-width=\"labelWidthForm\"\n        :model=\"model\"\n        :rules=\"rules\"\n        @submit.native.prevent=\"doSubmit\"\n        class=\"form\"\n        ref=\"form\"\n        v-if=\"model\"\n      >\n        <el-form-item\n          :label=\"fields.theme.label\"\n          :prop=\"fields.theme.name\"\n          :required=\"fields.theme.required\"\n        >\n          <el-col :lg=\"11\" :md=\"16\" :sm=\"24\">\n            <el-select filterable placeholder v-model=\"model[fields.theme.name]\" value-key=\"id\">\n              <el-option\n                :key=\"option.id\"\n                :label=\"option.label\"\n                :value=\"option.id\"\n                v-for=\"option in fields.theme.options\"\n              >\n                <div :style=\"{ backgroundColor: option.hex }\" class=\"settings-box\"></div>\n                &#160; {{ option.label }}\n              </el-option>\n            </el-select>\n          </el-col>\n        </el-form-item>\n\n        <el-form-item>\n          <div class=\"form-buttons\">\n            <el-button\n              :disabled=\"saveLoading\"\n              @click=\"doSubmit\"\n              icon=\"el-icon-fa-floppy-o\"\n              type=\"primary\"\n            >\n              <app-i18n code=\"common.save\"></app-i18n>\n            </el-button>\n\n            <el-button :disabled=\"saveLoading\" @click=\"doReset\" icon=\"el-icon-fa-undo\">\n              <app-i18n code=\"common.reset\"></app-i18n>\n            </el-button>\n\n            <router-link :to=\"{ path: '/' }\">\n              <el-button :disabled=\"saveLoading\" icon=\"el-icon-fa-close\">\n                <app-i18n code=\"common.cancel\"></app-i18n>\n              </el-button>\n            </router-link>\n          </div>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { SettingsModel } from '@/modules/settings/settings-model';\nimport { mapGetters, mapActions } from 'vuex';\nimport { FormSchema } from '@/shared/form/form-schema';\nimport SettingsToolbar from '@/modules/settings/components/settings-toolbar.vue';\n\nconst { fields } = SettingsModel;\nconst formSchema = new FormSchema([fields.theme]);\n\nexport default {\n  name: 'app-settings-page',\n\n  components: {\n    [SettingsToolbar.name]: SettingsToolbar,\n  },\n\n  data() {\n    return {\n      rules: formSchema.rules(),\n      model: null,\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      labelPosition: 'layout/labelPosition',\n      labelWidthForm: 'layout/labelWidthForm',\n      settings: 'settings/settings',\n      findLoading: 'settings/findLoading',\n      saveLoading: 'settings/saveLoading',\n    }),\n\n    fields() {\n      return fields;\n    },\n  },\n\n  async created() {\n    await this.doFind();\n    this.model = formSchema.initialValues(this.settings);\n  },\n\n  methods: {\n    ...mapActions({\n      doFind: 'settings/doFind',\n      doSave: 'settings/doSave',\n    }),\n\n    doReset() {\n      this.model = formSchema.initialValues(this.settings);\n    },\n\n    async doSubmit() {\n      try {\n        await this.$refs.form.validate();\n      } catch (error) {\n        return;\n      }\n\n      const values = formSchema.cast(this.model);\n      return this.doSave(values);\n    },\n  },\n};\n</script>\n\n<style>\n.settings-box {\n  float: left;\n  width: 20px;\n  height: 20px;\n  margin: 5px;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  border-radius: 50%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./settings-page.vue?vue&type=template&id=0df2af8c&\"\nimport script from \"./settings-page.vue?vue&type=script&lang=js&\"\nexport * from \"./settings-page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./settings-page.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./settings-page.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}